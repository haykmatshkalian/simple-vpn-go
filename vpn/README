# Go Point-to-Point VPN

This project creates a **very simple point-to-point VPN** using Go + TUN interfaces.

- **Server runs on Kali Linux (Virtual Machine)**
- **Client runs on macOS**

Traffic is sent between TUN interfaces over a TCP connection.

Both devices will get internal VPN IPs:

| Device | Interface | IP |
|--------|-----------|------|
| **Kali server** | `vpn0` | `10.2.0.1/24` |
| **macOS client** | `utunX` | `10.2.0.2/24` |

After setup, both sides can **ping each other through VPN**.

---

## ğŸ“Œ Requirements

### On Kali (server)
- Go installed (`go version`)
- `github.com/songgao/water` library

### On macOS (client)
- Go installed
- `github.com/songgao/water` library

---

## ğŸ“ File Structure
```
vpn-server/
    server.go
vpn-client/
    client.go
```

---

## ğŸš€ Setup Instructions

### 1. Install Go (if missing)

#### Kali
```bash
sudo apt update
sudo apt install golang-go -y
```

#### macOS
```bash
brew install go
```

### 2. ğŸ“¦ Install TUN library (both sides)

Inside each project folder:
```bash
go mod init vpn
go get github.com/songgao/water
```

---

## ğŸ–¥ï¸ SERVER SETUP (KALI)

1. Go into the server directory:
```bash
cd vpn-server
```

2. Build the server:
```bash
go build server.go
```

3. Run the server as root:
```bash
sudo ./server
```

You should see:
```
Server TUN device created: vpn0
Server TUN set up with IP 10.2.0.1/24
Server listening on :8000
```

---

## ğŸ’» CLIENT SETUP (macOS)

1. Go into client folder:
```bash
cd vpn-client
```

2. Build the client:
```bash
go build client.go
```

3. Run client as root:
```bash
sudo ./client <SERVER_IP>
```

Example:
```bash
sudo ./client 192.168.1.12
```

If successful you'll see:
```
Client TUN created: utun4
Client TUN set with IP 10.2.0.2/24
Connected to server
```

### ğŸ”§ If macOS didn't configure IP automatically

Run this (replace `utun4` with your interface):
```bash
sudo ifconfig utun4 10.2.0.2 10.2.0.1 up
```

---

## ğŸ§ª TESTING (Ping)

### From macOS â†’ Kali:
```bash
ping 10.2.0.1
```

### From Kali â†’ macOS:
```bash
ping 10.2.0.2
```

If both work:

ğŸ‰ **Your Go VPN is working!**